
## ğŸ‘ŸğŸƒ SERVER ğŸ‘ŸğŸƒ

> 31th IN SOPT ì†ì»¤í†¤ 3ì¡° <br>
> í”„ë¡œì íŠ¸ ê¸°ê°„ : 2022.11.19 ~ 2022.11.20

ğŸ”” ì„œë¹„ìŠ¤ëª… : ì†Œì›ì„ ë§(ë§Œ)í•´ë´

ğŸ”” ì„œë¹„ìŠ¤ í•œì¤„ì†Œê°œ : ë¬¼ê°€ ìƒìŠ¹ì—ë„ ìœ„ì‹œë¦¬ìŠ¤íŠ¸ í¬ê¸° ëª»í•˜ëŠ” ë‹¹ì‹ ì„ ìœ„í•œ í™˜ìœ¨ ê³„ì‚°ê¸°

<br>

### <strong> ğŸƒ Server ğŸƒ </strong>

| <img src="https://avatars.githubusercontent.com/u/82046935?v=4" width="200">|<img src="https://avatars.githubusercontent.com/u/86148470?v=4" width="200">|
| :-----------------------------------: | :-----------------------------------------------: |
|                ê¹€ë¯¼ìš±                 |                      ì†Œì˜ˆì›                       |
| [ ğŸ¸ coreminw ](https://github.com/coreminw) | [ ğŸ¸ Soyewon ](https://github.com/Soyewon) |

<br>

### <strong> ğŸƒ Used ğŸƒ </strong>
<br>
<p>
<img alt="TypeScript" src="https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white"/>
<img alt="PostgreSQL" src="https://img.shields.io/badge/PostgreSQL-4169E1.svg?style=for-the-badge&logo=postgresql&logoColor=white"/>
<img alt="Prisma" src="https://img.shields.io/badge/Prisma-2D3748.svg?style=for-the-badge&logo=Prisma&logoColor=white"/>
<img alt="AWS" src="https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white"/><br>
<img alt="Prettier" src="https://img.shields.io/badge/Prettier-F7B93E.svg?style=for-the-badge&logo=Prettier&logoColor=black"/>
<img alt="ESLint" src="https://img.shields.io/badge/ESLint-4B32C3.svg?style=for-the-badge&logo=ESLint&logoColor=white"/>
</p>
  
<br>

## ğŸƒ Coding Convention ğŸƒ
<br>
<details markdown="1">
<summary>ë„¤ì´ë°</summary>

### DB

- DB ì´ë¦„ì€ **UpperCamelCase**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

<br>

### í•¨ìˆ˜, ë³€ìˆ˜, íƒ€ì…
- í•¨ìˆ˜ì™€ ë³€ìˆ˜ì—ëŠ” **lowerCamelCase**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- í•¨ìˆ˜ëª…ì€ ë™ì‚¬ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.
- íƒ€ì…ëª…ì€ **íŒŒìŠ¤ì¹¼ì¼€ì´ìŠ¤**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
  - interfaceì´ë¦„ì— Ië¥¼ ë¶™ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ê¸°ë³¸ í´ë˜ìŠ¤ íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•  ë•ŒëŠ” ì•½ì–´ ê·œì¹™ì— ë”°ë¼ ë„¤ì´ë°í•©ë‹ˆë‹¤.  

<br>

### ë³€ìˆ˜ ë„¤ì´ë°

- `ì‚¬ì§„` â†’ photo
- `ìœ ì €` â†’ user 
- `ë°°ì—´ì„ ë‹´ì€ ë³€ìˆ˜`â†’ ~s(ë³µìˆ˜í˜•)
- `ìƒíƒœ` â†’ status 

---
</details>

<br>

## âœ‰ï¸ Branch Strategy

```
[CHORE] ì½”ë“œ ìˆ˜ì •, ë‚´ë¶€ íŒŒì¼ ìˆ˜ì • 
[FEAT] ìƒˆë¡œìš´ ê¸°ëŠ¥ êµ¬í˜„ 
[ADD] Feat ì´ì™¸ì˜ ë¶€ìˆ˜ì ì¸ ì½”ë“œ ì¶”ê°€, ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€, ìƒˆë¡œìš´ íŒŒì¼ ìƒì„± ì‹œ, ì—ì…‹ ì¶”ê°€
[HOTFIX] issueë‚˜, QAì—ì„œ ê¸‰í•œ ë²„ê·¸ ìˆ˜ì •ì— ì‚¬ìš©
[FIX] ë²„ê·¸, ì˜¤ë¥˜ í•´ê²°
[REMOVE] ì“¸ëª¨ì—†ëŠ” ì½”ë“œ ì‚­ì œ 
[DOCS] READMEë‚˜ WIKI ë“±ì˜ ë¬¸ì„œ ê°œì •
[MOVE] í”„ë¡œì íŠ¸ ë‚´ íŒŒì¼ì´ë‚˜ ì½”ë“œì˜ ì´ë™ 
[RENAME] íŒŒì¼ ì´ë¦„, ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª… ë³€ê²½ì´ ìˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. 
[REFACTOR] ì „ë©´ ìˆ˜ì •ì´ ìˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤ 
```
<br>

## ğŸ—‚Â í”„ë¡œì íŠ¸ í´ë”ë§

```jsx

ğŸ“¦ controllers               
 â”£ ğŸ“œ index.ts
 â”— ğŸ“œ Controller.ts

ğŸ“¦ interfaces                
 â”— ğŸ“‚ common
 â”ƒ â”£ ğŸ“œ Dto.ts
 â”— ğŸ“‚ hihi
   â”£ ğŸ“œ BoardInfo.ts

ğŸ“¦ constants                  
 â”£ ğŸ“œ index.ts
 â”£ ğŸ“œ responseMessage.ts
 â”— ğŸ“œ reponse.ts
 â”— ğŸ“œ statusCode.ts

ğŸ“¦ router                   
 â”£ ğŸ“œ router.ts
 â”— ğŸ“œ index.ts

ğŸ“¦ services                  
 â”£ ğŸ“œ service.ts
 â”— ğŸ“œ index.ts
```

## âœ¨ Github Management
<br>

<details>
<summary> âœ¨ Gitflow âœ¨ </summary>
<div markdown="1">  

```
1. Issueë¥¼ ìƒì„±í•œë‹¤.
2. ê¹ƒ ì»¨ë²¤ì…˜ì— ë§ê²Œ Branchë¥¼ ìƒì„±í•œë‹¤.
3. Add - Commit - Push - Pull Request ì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤.
4. Pull Requestê°€ ì‘ì„±ë˜ë©´ ì‘ì„±ì ì´ì™¸ì˜ ë‹¤ë¥¸ íŒ€ì›ì´ Code Reviewë¥¼ í•œë‹¤.
5. Code Reviewê°€ ì™„ë£Œë˜ë©´ Pull Request ì‘ì„±ìê°€ develop Branchë¡œ merge í•œë‹¤.
6. mergeëœ BranchëŠ” ì‚­ì œí•œë‹¤.
7. ì¢…ë£Œëœ Issueì™€ Pull Requestì˜ Labelê³¼ Projectë¥¼ ê´€ë¦¬í•œë‹¤.
```
	
### ğŸŒ´ ë¸Œëœì¹˜
---
#### ğŸ“Œ ë¸Œëœì¹˜ ë‹¨ìœ„
- ë¸Œëœì¹˜ ë‹¨ìœ„ = ì´ìŠˆ ë‹¨ìœ„ = PRë‹¨ìœ„

#### ğŸ“Œ ë¸Œëœì¹˜ëª…
- ë¸Œëœì¹˜ëŠ” ë·° ë‹¨ìœ„ë¡œ ìƒì„±í•©ë‹ˆë‹¤.
- ë¸Œëœì¹˜ ê·œì¹™ â†’ feature/#ì´ìŠˆë²ˆí˜¸-íƒ­-ê¸°ëŠ¥ê°„ëµì„¤ëª…
- `ex) feature/#1-postLike`
- íƒ­ì´ë¦„ - yewon, minwook 
- ê³µí†µì ì¸ ê²ƒ ì‘ì—… - Global
    - feature/chore/fix/network

<br>
	
### ğŸ’¡ ì´ìŠˆ, PR ê·œì¹™
---
	
#### ğŸ“Œ Issueëª… = PRëª…
- [FEAT] - ê¸°ëŠ¥ êµ¬í˜„
- [FIX] - ë²„ê·¸ ìˆ˜ì •
- [REFACTOR] - ì½”ë“œ ë¦¬íŒ©í† ë§(ê²°ê³¼ë¬¼ì€ ê°™ì§€ë§Œ ì½”ë“œì˜ í–¥ìƒ)
- [CHORE] - ìˆ˜ì •
- [ADD] - ì„¸íŒ… ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€

</details>

<br>

### <strong> ğŸƒ APIs ğŸƒ </strong>
|   EndPoint   |               detail               | developer | done |
| :------: | :--------------------------------: | :-------: |:--: |
|   RESULT  |       ê²°ê³¼ í˜ì´ì§€ ì •ë³´      |   ë¯¼ìš±    |    |
|   WISH  |       ì†Œì› ì •ë³´ ë°›ê¸°      |   ì˜ˆì›    |    |
|   FOOD  |       ì¢‹ì•„í•˜ëŠ” ìŒì‹ ì •ë³´ ë°›ê¸°      |   ë¯¼ìš±    |    |
<br>

<br>

## <strong> API ëª…ì„¸ì„œ</strong>

[API ëª…ì„¸ì„œ](https://golden-rib-2f1.notion.site/99b4f3e386314b808898823ae5e2c343?v=f7b701095aca41be934cb6ac876ee272)

<br>

<br>

## <strong> package.json </strong>


```json
{
  "name": "server",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "dev": "nodemon",
    "build": "tsc && node dist",
    "lint": "yarn run lint-prettier && yarn run lint-eslint",
    "lint-eslint": "eslint --ignore-path .gitignore src/**/*ts --fix",
    "lint-prettier": "prettier --write \"src/**/*.(ts|tsx)\""
  },
  "lint-staged": {
    "src/**/*.(ts|tsx)": [
      "yarn lint"
    ]
  },
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@types/bcryptjs": "^2.4.2",
    "@types/express": "^4.17.13",
    "@types/jsonwebtoken": "^8.5.8",
    "@types/mongoose": "^5.11.97",
    "@types/node": "^17.0.25",
    "eslint": "^8.16.0",
    "nodemon": "^2.0.15",
    "ts-node": "^10.7.0",
    "typescript": "^4.6.3"
  },
  "dependencies": {
    "@prisma/client": "^4.6.1",
    "@typescript-eslint/eslint-plugin": "^5.9.0",
    "@typescript-eslint/parser": "^5.9.0",
    "bcryptjs": "^2.4.3",
    "dayjs": "^1.11.6",
    "dotenv": "^16.0.0",
    "eslint-config-prettier": "^8.3.0",
    "eslint-plugin-import": "^2.25.4",
    "eslint-plugin-prettier": "^4.0.0",
    "eslint-plugin-simple-import-sort": "^7.0.0",
    "express": "^4.17.3",
    "express-validator": "^6.14.0",
    "jsonwebtoken": "^8.5.1",
    "lint-staged": "^12.1.5",
    "mongoose": "^6.3.1",
    "prettier": "^2.5.1",
    "prisma": "^4.6.1"
  }
}
```


<br>

<br>

## <strong> schema.prisma </strong>


```json
{
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model food {
  id       Int    @id(map: "food_pk") @unique(map: "food_id_uindex")
  foodName String @db.VarChar(20)
  price    Int
}

model wish {
  id       Int      @id(map: "wish_pk") @unique @default(autoincrement())
  wishItem String   @db.VarChar(30)
  price    Int
  date     DateTime @db.Timestamp(6)
}

}
```



<br>

<br>


## <strong> ERD </strong>

<img width="261" alt="KakaoTalk_Photo_2022-11-20-06-52-52" src="https://user-images.githubusercontent.com/86148470/202872913-6d4f3b3c-6b6d-4224-a649-b181776504b2.png">

<br>

<br>

## <strong> server architecture </strong>
	
<img width="796" alt="KakaoTalk_Photo_2022-11-20-06-59-44" src="https://user-images.githubusercontent.com/86148470/202873115-c069cc26-3cd6-4fa9-8c68-98a7306c1e2e.png">
